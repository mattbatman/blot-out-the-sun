function Circle(a,b,c,d,e){this.distanceTraveled=a,this.startTime=b,this.endPosition=c,this.duration=d,this.animationRunning=e,this.reset=function(){this.distanceTraveled="0%",this.startTime=null,this.endPosition=92,this.duration=1e5,this.animationRunning=!0,cssCircle.style.visibility="initial",cssCircle.style.left=a,htmlGameBorder.style.border="2px solid #F44336"},this.renderAnimation=function(a){void 0===a&&(a=(new Date).getTime()),null===this.startTime&&(this.startTime=a),this.distanceTraveled=(a-this.startTime)/this.duration*this.endPosition,this.distanceTraveled>this.endPosition&&(cssCircle.style.visibility="hidden",this.animationRunning=!1),cssCircle.style.left=this.distanceTraveled+"%"},this.renderAnimationCircular=function(a){void 0===a&&(a=(new Date).getTime()),null===this.startTime&&(this.startTime=a),progress=(a-this.startTime)/this.duration/1e3,x=Math.sin(2*progress*Math.PI),y=Math.cos(2*progress*Math.PI),cssCircle.style.left=centerX+radiusX*x+"px",cssCircle.style.bottom=centerY+radiusY*y+"px",progress>=1&&(start=null)}}function animateSun(){cssCircle.addEventListener("click",sunCircleClicked,!1),sun.renderAnimation(),sun.animationRunning&&requestAnimationFrame(animateSun,cssCircle)}function sunCircleClicked(){sun.animationRunning=!1,htmlHeader.textContent="Victory",htmlParagraph.textContent="Let darkness reign.",cssCircle.style.visibility="hidden"}function countdown(){switch(countdownCallTracker){case 0:htmlHeader.textContent=textToDisplay.countdownText[countdownCallTracker];break;case 1:htmlHeader.textContent=textToDisplay.countdownText[countdownCallTracker];break;case 2:htmlHeader.textContent=textToDisplay.countdownText[countdownCallTracker];break;case 3:htmlHeader.textContent=textToDisplay.countdownText[countdownCallTracker];break;default:htmlHeader.textContent="",sun.reset(),clearInterval(countdownIntervalCycle),animateSun()}countdownCallTracker++}function determineSpecies(){selectedSpecies=document.getElementById("radio-choice-1").checked===!0?0:document.getElementById("radio-choice-2").checked===!0?1:document.getElementById("radio-choice-3").checked===!0?2:3}function speciesStory(){switch(selectedSpecies){case 0:htmlParagraph.textContent=textToDisplay.paragraphText[1];break;case 1:htmlParagraph.textContent=textToDisplay.paragraphText[2];break;case 2:htmlParagraph.textContent=textToDisplay.paragraphText[3];break;default:htmlParagraph.textContent="Something's wrong. It says you're a pikachu?"}}function pageAdvancement(){0===confirmButtonClickCounter?(cssCircle.style.visibility="hidden",moon.animationRunning=!1,htmlHeader.textContent=textToDisplay.headerText[1],htmlParagraph.innerHTML=radioFormMarkup,htmlButton.textContent=textToDisplay.confirmButtonText[1],confirmButtonClickCounter++):1===confirmButtonClickCounter?(cssCircle.style.visibility="hidden",cssCircle.removeAttribute("class"),cssCircle.setAttribute("class","sun"),determineSpecies(),3>selectedSpecies&&(htmlHeader.textContent=textToDisplay.headerText[2],speciesStory(),htmlButton.textContent=textToDisplay.confirmButtonText[2],confirmButtonClickCounter++)):2===confirmButtonClickCounter&&(htmlButton.style.visibility="hidden",cssCircle.style.visibility="hidden",htmlBody.setAttribute("class","day-body-settings"),htmlParagraph.textContent=textToDisplay.paragraphText[textToDisplay.paragraphText.length-1],countdown(),countdownIntervalCycle=setInterval(countdown,countdownInterval))}!function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearout(a)})}();var htmlBody=document.getElementById("body-id"),htmlGameBorder=document.getElementById("main-game-box"),htmlHeader=document.getElementById("main-header-text"),htmlParagraph=document.getElementById("main-paragraph-text"),htmlButton=document.getElementById("user-confirm-button"),cssCircle=document.getElementById("floating-circle-div"),textToDisplay={headerText:["Blot Out the Sun","You Are A...","Behold!"],paragraphText:["Prepare for the sun to rise!","You have chosen to be a race notorious for romantically engaging high school girls despite having a mental age that is centuries old. Your undead life is good. However, the sun is about to rise and burn you alive. Strike it down to continue preying on human children.","You are the beastly werewolf. You are a member of the choir of your werewolf church, and practice has gone too long. The sun is about to rise. Protect your pack. Strike down the sun.","You are an archer in Xerxes the Great's Persian army. Some pesky Spartans are resisting your advances. Prepare your arrow and blot out the sun.","Your score: ","But beware -- the sun will try again. The sun always rises.",""],confirmButtonText:["ENTER","APPLY SUNSCREEN","START","CONTINUE"],countdownText:["3","2","1","Go!"],resultText:["Such skill!","Game Over"]},radioFormMarkup='<fieldset id="radioRaceSelection"><input type="radio" name="radio-choice" id="radio-choice-1" tabindex="1" value="Vampire"><label for="radio-choice-1">Vampire</label><br><input type="radio" name="radio-choice" id="radio-choice-2" tabindex="2" value="Werewolf"><label for="radio-choice-2">Werewolf</label><br><input type="radio" name="radio-choice" id="radio-choice-3" tabindex="3" value="Persian Archer"><label for="radio-choice-3">Persian Archer</label></fieldset>',selectedSpecies=0,confirmButtonClickCounter=0,score=0,centerX=htmlGameBorder.clientWidth/2,centerY=0,radiusX=htmlGameBorder.clientWidth/2,radiusY=window.innerHeight/4,progress,x,y,moon=new Circle("0%",null,92,10,!0),sun=new Circle("0%",null,92,1e5,!1),countdownInterval=1e3,countdownCallTracker=0,countdownIntervalCycle;window.addEventListener("load",function(){!function a(){moon.renderAnimationCircular(),moon.animationRunning&&requestAnimationFrame(a,cssCircle)}()},!1),htmlButton.addEventListener("click",pageAdvancement,!1);